RewriteEngine On

# Gère les cas où "p" est composé de trois parties avec ID
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([0-9]+)/?$ index.php?p=$1/$2/$3&id=$4 [L]

# Gère les cas où "p" est composé de deux parties avec ID
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([0-9]+)/?$ index.php?p=$1/$2&id=$3 [L]

# Gère les cas où "p" est composé d'une seule partie avec ID
RewriteRule ^([a-zA-Z0-9_-]+)/([0-9]+)/?$ index.php?p=$1&id=$2 [L]

# Gère les cas où "p" est composé de trois parties sans ID
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$ index.php?p=$1/$2/$3 [L]

# Gère les cas où "p" est composé de deux parties sans ID
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$ index.php?p=$1/$2 [L]

# Gère les cas où "p" est composé d'une seule partie sans ID
RewriteRule ^([a-zA-Z0-9_-]+)/?$ index.php?p=$1 [L]

